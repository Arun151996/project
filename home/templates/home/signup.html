{% extends 'home/rent_master.html' %}
{% block content %}
{% load static %}





<center>
    <form action="" method="post" style="border:5px solid rgb(204, 204, 204); width: 40%; margin: 2%;">
        {% csrf_token %}
        



        <div class="container pd">
            <h1 class="">SignUp</h1>

            <hr>


            <input type="text" placeholder="Username" name="username" id="user_name">
            <span id="user_err"></span>


            <input type="text" placeholder="Email" name="email" id="email">
            <span id="email_err"></span>


            <input type="text" placeholder=" Password" name="password" id="pswd">
            <span id="pswd_err"></span>

            <input type="text" placeholder="Confirm Password" name="cpassword" id="c_pswd">
            <span id="cpswd_err"></span>


            <div class="clearfix">

                <center> <button type="submit" class="signupbtn" onclick="return validate()"
                        style="background-color: rgb(172, 7, 40); ">Submit</button></center>

                <p>Already have an Account? <a href="{% url 'home:loginnow' %}">
                        Login Now</a></p>
            </div>
        </div>
    </form>
</center>
<script>
    function validate() {
        var status = 1
        var u_name = document.getElementById("user_name")
        var u_email = document.getElementById("email")
        var u_pswd = document.getElementById("pswd")
        var u_cpswd = document.getElementById("c_pswd")
        var email_pattern = /^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;

        if (u_name.value == "") {
            document.getElementById("user_err").innerHTML = "Please Enter Username"
            document.getElementById("user_err").style.color = "red"
            status = 0


        } 
        else {
            document.getElementById("user_err").innerHTML = ""
            status = 1


        }
        if (u_email.value == "") {
            document.getElementById("email_err").innerHTML = "Please Enter Email"
            document.getElementById("email_err").style.color = "red"

            status = 0


        }
        else if (u_email.value.match(email_pattern) == null) {
            document.getElementById("email_err").innerHTML = "Please Enter Valid Email"
            document.getElementById("email_err").style.color = "red"
            status = 0
          
 
        }
        else {
            document.getElementById("email_err").innerHTML = ""
            status = 1

        }
        if (u_pswd.value == "") {
            document.getElementById("pswd_err").innerHTML = "Please Enter Password"
            document.getElementById("pswd_err").style.color = "red"
            status = 0

        }
        else {
            document.getElementById("pswd_err").innerHTML = ""
            status = 1
        }
        //1
        if (u_cpswd.value == "") {
            document.getElementById("cpswd_err").innerHTML = "Please Enter Confirm Password"
            document.getElementById("cpswd_err").style.color = "red"
            status = 0

        }
        else if(u_pswd.value != u_cpswd.value){
            document.getElementById("cpswd_err").innerHTML = "Password doesn't Match"
            document.getElementById("cpswd_err").style.color = "red"
            status = 0

        }
        
//1

        
        else {
            document.getElementById("cpswd_err").innerHTML = ""
            status = 1
        }
        if (status == 0) {
            return false;
        }

console.log(status)

    }
</script>
{% endblock %}